<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="author" content="Design:Fei.Zhao; Web Layout:Zhongwei.Zhang;" /> 
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<meta name="keywords" content="完美刀塔,完美刀塔助手,完美刀塔APP,dota2,dota,dota2 app,dota2 app下载,官网,英雄,对战,续作,经典,moba" />
<meta name="description" content="《完美刀塔助手》是完美世界出品的DOTA2辅助工具，专为热爱DOTA和DOTA2的玩家开发。提供包括DOTA2资讯、DOTA2英雄资料、DOTA2物品合成、DOTA2视频、DOTA2直播等功能，后续版本将包含更多的与DOTA2玩家交互与优惠活动，喜爱DOTA2的玩家，快下载完美刀塔APP吧！精彩不容错过！" />
<link href="index1504.css" tppabs="http://app.dota2.com.cn/style/index1504.css" rel="stylesheet" type="text/css"/>
<style>

	a{display:block}
</style>
<script type="text/javascript" src="checkweb.js" tppabs="http://www.wanmei.com/public/js/checkweb.js"></script>
<script type="text/javascript">
checkweb('web.html'/*tpa=http://app.dota2.com.cn/web.html*/);
	if(/iPhone/.test(navigator.userAgent)){
		var css = '<style type="text/css">@media screen and (device-aspect-ratio: 2/3){'
				+'.s1_img1{ width:50%;}'
				+'.s1_img2{ width:30%;}'
				+'.s1_img3{ width:50%;}'
				+'.s1_img4 img{ width:70%;}'
				+'.s2_img1{ top:5%;}'
				+'.s2_img2{ top:25%;}'
		+'}</style>';
		document.write(css);
	}
</script>
<title>完美刀塔助手APP下载</title>
</head>
<body>
<div class="wrap">
	<div class="screen" id="screen1">
		<div class="s1_img1"><img class="w100" src="s1_img1.png" tppabs="http://app.dota2.com.cn/images/s1_img1.png" /></div>
		<div class="s1_img2"><img class="w100 animation_fan" src="s1_img2.png" tppabs="http://app.dota2.com.cn/images/s1_img2.png" /></div>
		<div class="s1_img3"><img class="w100" src="s1_img3_1504.png" tppabs="http://app.dota2.com.cn/images/s1_img3_1504.png" /></div>
		<div class="s1_img4"><a href="javascript:if(confirm(%27http://app.dota2.com.cn/download/select_app.html  \n\nThis file was not retrieved by Teleport Ultra, because it is linked too far away from its Starting Address. If you increase the in-domain depth setting for the Starting Address, this file will be queued for retrieval.  \n\nDo you want to open it from the server?%27))window.location=%27http://app.dota2.com.cn/download/select_app.html%27" tppabs="http://app.dota2.com.cn/download/select_app.html" target="_blank"><img src="s1_img4.png" tppabs="http://app.dota2.com.cn/images/s1_img4.png" /></a></div>
		<img class="btn_next" src="s_down-1.png" tppabs="http://app.dota2.com.cn/images/s_down.png" />
	</div>
	<div class="screen" id="screen2">
		<div class="s2_img1"><img class="w100" src="s2_img1_1504-1.png" tppabs="http://app.dota2.com.cn/images/s2_img1_1504.png" /></div>
		<div class="s2_img2"><img class="w100" src="s2_img2_1504-1.png" tppabs="http://app.dota2.com.cn/images/s2_img2_1504.png" /></div>
		<img class="btn_next" src="s_down-1.png" tppabs="http://app.dota2.com.cn/images/s_down.png" />
	</div>
	<div class="screen" id="screen3">
		<div class="s3_img1"><img class="w100" src="s3_img1_1504-1.png" tppabs="http://app.dota2.com.cn/images/s3_img1_1504.png" /></div>
		<div class="s3_img2"><img class="w100" src="s3_img2_1504-1.png" tppabs="http://app.dota2.com.cn/images/s3_img2_1504.png" /></div>
		<img class="btn_next" src="s_down-1.png" tppabs="http://app.dota2.com.cn/images/s_down.png" />
	</div>
	<div class="screen" id="screen4">
		<div class="s4_img1"><img class="w100" src="s4_img1_1504-1.png" tppabs="http://app.dota2.com.cn/images/s4_img1_1504.png" /></div>
		<div class="s4_img2"><img class="w100" src="s4_img2_1504-1.png" tppabs="http://app.dota2.com.cn/images/s4_img2_1504.png" /></div>
		<div class="bot_bar">
        <div class="title">立即下载体验吧！</div>
        <a href="javascript:if(confirm(%27http://app.dota2.com.cn/download/select_app.html  \n\nThis file was not retrieved by Teleport Ultra, because it is linked too far away from its Starting Address. If you increase the in-domain depth setting for the Starting Address, this file will be queued for retrieval.  \n\nDo you want to open it from the server?%27))window.location=%27http://app.dota2.com.cn/download/select_app.html%27" tppabs="http://app.dota2.com.cn/download/select_app.html"  target="_blank"><img class="btn_bot_down" src="btn_down.jpg" tppabs="http://app.dota2.com.cn/images/btn_down.jpg" /></a></div>	
	</div>	
</div>
<script type="text/javascript" src="jq_171.js" tppabs="http://www.wanmei.com/public/js/jq_171.js"></script>
<script type="text/javascript">
$(function(){
	var index = 0,
		touchs = 0,
		touche = 0;
	$(document).bind("touchstart",function(e){
		//event.preventDefault();
		var touch = e.originalEvent.touches[0];
		touchs = touch.pageY;
	});
	$(document).bind("touchmove",function(e){
		e.preventDefault();
	});
	$(document).bind("touchend",function(e){
		//event.preventDefault();
		var touch = e.originalEvent.changedTouches[0];
		touche = touch.pageY;
		if (touchs < touche) {
			if (index == 0) return false;
			animation("down",index--);
		} else if (touchs > touche) {
			if (index == 3) return false;
			animation("up",++index);
		}
	});
	/*
	$("a").bind("touchend",function(){
		link($(this));
	});
	function link(t){
		t[0].click();
	}
	*/
	function animation(m , n) {
		var main = $("#screen" + n);
		if (m == "up") {
			main.animate({top:"-100%"},300,function(){
				var $leftImg = $('.screen').eq(n).find('div').eq(0),
					$rightImg = $('.screen').eq(n).find('div').eq(1);
				$leftImg.addClass('animation_left').show();
				$rightImg.addClass('animation_right').show();
				if(n == 3){
					$('.bot_bar').addClass('animation_bot').show();
					$('.btn_next').hide();
				}
			});
			
		} else if(m == "down") {
			main.animate({top:0},300);
		}
	}
});
</script>
<script type="text/javascript" src="stat.js" tppabs="http://app.dota2.com.cn/js/stat.js"></script>
<script>

var networkType;


function htmlDecode(str) {
    return str.replace(/&#39;/g, '\'').replace(/<br\s*(\/)?\s*>/g, '\n').replace(/&nbsp;/g, ' ').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '"').replace(/&amp;/g, '&');
}

function share_scene(link, scene_type) {
   return link
}

(function() {

    function onBridgeReady() {

        var appId = '',
        imgUrl = "share.jpg"/*tpa=http://app.dota2.com.cn/images/share.jpg*/,
        link = "http://app.dota2.com.cn/",
        title = htmlDecode("完美官方出DOTA2 APP啦！刚装了很牛逼！支持安卓和IOS！"),
        desc = htmlDecode("「完美刀塔」安卓版发布，GANK全场节奏已经飞起！现在同时支持安卓和IOS。"),
        fakeid = "";
        desc = desc || link;

        if ("1" == "0") {
            WeixinJSBridge.call("hideOptionMenu");
        }

        // 发送给好友; 
        WeixinJSBridge.on('menu:share:appmessage',
        function(argv) {

            WeixinJSBridge.invoke('sendAppMessage', {
                "appid": appId,
                "img_url": imgUrl,
                "img_width": "640",
                "img_height": "640",
                "link": share_scene(link, 1),
                "desc": desc,
                "title": title
            },
            function(res) {});
        });

        // 分享到朋友圈;
        WeixinJSBridge.on('menu:share:timeline',
        function(argv) {

            WeixinJSBridge.invoke('shareTimeline', {
                "img_url": imgUrl,
                "img_width": "640",
                "img_height": "640",
                "link": share_scene(link, 2),
                "desc": desc,
                "title": title
            },
            function(res) {});

        });

        // 分享到微博;
        var weiboContent = '';
        WeixinJSBridge.on('menu:share:weibo',
        function(argv) {

            WeixinJSBridge.invoke('shareWeibo', {
                "content": title + share_scene(link, 3),
                "url": share_scene(link, 3)
            },
            function(res) {});
        });

        // 分享到Facebook
        WeixinJSBridge.on('menu:share:facebook',
        function(argv) {

            WeixinJSBridge.invoke('shareFB', {
                "img_url": imgUrl,
                "img_width": "640",
                "img_height": "640",
                "link": share_scene(link, 4),
                "desc": desc,
                "title": title
            },
            function(res) {});
        });

        // 新的接口
        WeixinJSBridge.on('menu:general:share',
        function(argv) {
            var scene = 0;
            switch (argv.shareTo) {
            case 'friend':
                scene = 1;
                break;
            case 'timeline':
                scene = 2;
                break;
            case 'weibo':
                scene = 3;
                break;
            }
            argv.generalShare({
                "appid": appId,
                "img_url": imgUrl,
                "img_width": "640",
                "img_height": "640",
                "link": share_scene(link, scene),
                "desc": desc,
                "title": title
            },
            function(res) {});
        });

        // get network type
        var nettype_map = {
            "network_type:fail": "fail",
            "network_type:edge": "2g",
            "network_type:wwan": "3g",
            "network_type:wifi": "wifi"
        };
        if (typeof WeixinJSBridge != "undefined" && WeixinJSBridge.invoke) {
            WeixinJSBridge.invoke('getNetworkType', {},
            function(res) {
                networkType = nettype_map[res.err_msg];

            });
        }
    }

    if (typeof WeixinJSBridge == "undefined") {
        if (document.addEventListener) {
            document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
        } else if (document.attachEvent) {
            document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
            document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
        }
    } else {
        onBridgeReady();
    }

})();
</script>
<div class="wm-public" analytics="{single:['app201406appzs3746']}"></div>
</body>
</html>

